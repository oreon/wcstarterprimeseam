
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:s="http://jboss.org/schema/seam/taglib"
	xmlns:a="http://richfaces.org/a4j" xmlns:p="http://primefaces.org/ui"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:wc="http://witchcraft.sourceforge.net/jsf"
	template="/admin/template.xhtml">
	<ui:define name="content">


		<h:form>
			<p:wizard flowListener="#{investorFlowAction.onFlowProcess}">
			
				<p:tab id="answer" title="Abswer">
					<h:inputText value="#{investorFlowAction.answer}"> </h:inputText>
				</p:tab>

				<p:tab id="personal" title="Personal">

					<ui:include
						src="/admin/entities/commerce/customer/editCustomerComponent.xhtml">
						<ui:param name="customer" value="#{investorFlowAction.customer}" />
					</ui:include>
				</p:tab>

				<p:tab id="question" title="Questions">
					<ui:include
						src="/admin/entities/questionnaire/answeredQuestionnaire/editAnsweredQuestionnaireComponentCustom.xhtml">
						<ui:param name="answeredQuestionnaire"
							value="#{investorFlowAction.answeredQuestionnaire}" />
							
							<ui:param name="myaction" value="#{investorFlowAction}" />
							<ui:param name="excludeCustomer" value="true"/>
            				<ui:param name="excludeDefaultScore" value="true"/>	
					     
					</ui:include>
				</p:tab>

				<p:tab id="results" title="Results">
					You scored - #{clientScoringMethod.score(investorFlowAction.answeredQuestionnaire)}
					
					Recommended Strategy is #{clientScoringMethod.findStrategy(investorFlowAction.answeredQuestionnaire)}
				</p:tab>

				<p:commandButton value="Save"
					actionListener="#{investorFlowAction.save}" process="@this" />
			</p:wizard>
		</h:form>


	</ui:define>
</ui:composition>
