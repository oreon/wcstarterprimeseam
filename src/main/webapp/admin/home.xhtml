
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:s="http://jboss.org/schema/seam/taglib"
	xmlns:a="http://richfaces.org/a4j" xmlns:p="http://primefaces.org/ui"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:wc="http://witchcraft.sourceforge.net/jsf"
	template="/admin/template.xhtml">
	<ui:define name="content">


		<h3>Welcome to TD case management</h3>
		
		<h:form>
		
		My Tasks 
		<p:dataTable var="task" value="#{associateAction.myTasks}"
			id="associateList" paginator="true" lazy="true" rows="20"
			tableStyle="width:auto">

			<p:column headerText="Task id">

				<h:commandLink actionListener="#{caseTaskInstanceAction.load()}"
					action="/admin/entities/bbwpcase/caseTaskInstance/editCaseTaskInstance.xhtml">
					<h:outputText value="#{task.id}" />
					
					<f:param name="taskInstanceId" value="#{task.id}" />
					<f:param name="taskName" value="#{task.name}" />
					
					<f:param name="processInstanceId" value="#{task.processId}" />
					<f:param name="processName" value="Annual" />
					
				</h:commandLink>
			</p:column>

			<p:column headerText="Process id">
				<h:outputText value="#{task.processId}" />
			</p:column>

			<p:column headerText="Task Name">
				<h:outputText value="#{task.name}"></h:outputText>
			</p:column>
			
			<p:column headerText="Customer">
				<h:outputText value="#{task.customer}"></h:outputText>
			</p:column>
			
			<p:column headerText="Status">
				<h:outputText value="#{task.status}"></h:outputText>
			</p:column>

		</p:dataTable>
		
		
		Available  Tasks 
		
		<p:dataTable var="task" value="#{associateAction.potentialTasks}"
			id="associatePotential" paginator="true" lazy="true" rows="20"
			tableStyle="width:auto">

			<p:column headerText="Task id">

				<h:commandLink actionListener="#{caseTaskInstanceAction.load()}"
					action="/admin/entities/bbwpcase/caseTaskInstance/editCaseTaskInstance.xhtml">
					<h:outputText value="#{task.id}" />
					
					<f:param name="taskInstanceId" value="#{task.id}" />
					<f:param name="taskName" value="#{task.name}" />
					
					<f:param name="processInstanceId" value="#{task.processId}" />
					<f:param name="processName" value="Annual" />
					
				</h:commandLink>
			</p:column>

			<p:column headerText="Process id">
				<h:outputText value="#{task.processId}" />
			</p:column>

			<p:column headerText="Task Name">
				<h:outputText value="#{task.name}"></h:outputText>
			</p:column>
			
			<p:column headerText="Customer">
				<h:outputText value="#{task.customer}"></h:outputText>
			</p:column>
			
			<p:column headerText="Status">
				<h:outputText value="#{task.status}"></h:outputText>
			</p:column>
			
			
			<p:column headerText="Assign">
				<h:commandLink actionListener="#{associateAction.claimTask(task.id)}">
					<h:outputText value="Assign" />
					<f:param name="taskInstanceId" value="#{task.id}" />
				</h:commandLink>
			</p:column>

		</p:dataTable>
			</h:form>

	</ui:define>
</ui:composition>
